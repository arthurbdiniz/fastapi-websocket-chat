<!-- Chat Area -->
<div class="flex-1 flex flex-col">
    <!-- Chat Header -->
    <div class="flex items-center justify-between bg-white p-4 shadow">
        <div class="flex items-center space-x-3">
            <h2 class="font-medium text-lg">{{ username }}</h2>
        </div>
        <div class="flex items-center space-x-3">
            <h2 class="font-small text-sm">Active users: <span id="active">0</span></h2>
        </div>
    </div>

    <!-- Chat Messages -->
    <div id="history" class="flex-1 overflow-y-auto p-4 bg-gray-50 space-y-4"></div>

    <!-- Message Input -->
    <div class="bg-white border-t border-gray-200 p-4"
        hx-ext="ws" 
        ws-connect="/ws/{{ username }}"
        hx-on:htmx:ws-after-message="document.querySelector('form').reset()">
        <form id="form" class="flex items-center space-x-3" ws-send>
            <input name="message" type="text" placeholder="Type a message..." 
                    class="flex-1 p-3 rounded-full border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:outline-none">
        </form>
    </div>
</div>